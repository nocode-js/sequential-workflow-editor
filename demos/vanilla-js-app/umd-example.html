<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>ðŸš¢ UMD Example - Sequential Workflow Editor</title>
		<style>
			body {
				font: 14px/1.5 Arial, Tahoma, Serif;
			}
			a {
				color: blue;
				text-decoration: underline;
			}
			a:hover {
				text-decoration: none;
			}
			#placeholder {
				display: block;
				border: 1px solid #ccc;
				padding: 10px;
			}
		</style>

		<script src="../../model/dist/index.umd.js"></script>
		<script src="../../editor/dist/index.umd.js"></script>
	</head>
	<body>
		<h1>ðŸš¢ UMD Example - Sequential Workflow Editor</h1>

		<p>
			This demo shows basic usage of
			<a href="https://github.com/nocode-js/sequential-workflow-editor" target="_blank">Sequential Workflow Editor</a>
			in a browser using UMD bundles.
		</p>

		<div id="placeholder"></div>

		<script>
			const fooModel = sequentialWorkflowEditorModel.createStepModel('foo', 'task', step => {
				step.property('isEnabled').value(sequentialWorkflowEditorModel.createBooleanValueModel({}));
			});

			const definitionModel = sequentialWorkflowEditorModel.createDefinitionModel(model => {
				model.valueTypes(['string']);
				model.root(() => {});
				model.steps([fooModel]);
			});

			const editorProvider = sequentialWorkflowEditor.EditorProvider.create(definitionModel, {
				uidGenerator: () => String(Math.random())
			});

			const step = {
				id: '0x1',
				name: 'test',
				type: 'foo',
				componentType: 'task',
				properties: { isEnabled: true }
			};
			const definition = {
				properties: {},
				sequence: [step]
			};

			const placeholder = document.getElementById('placeholder');
			const context = {
				notifyPropertiesChanged() {},
				notifyNameChanged() {}
			};
			const editor = editorProvider.createStepEditorProvider()(step, context, definition);
			placeholder.appendChild(editor);
		</script>
	</body>
</html>
